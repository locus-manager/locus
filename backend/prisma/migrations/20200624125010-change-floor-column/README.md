# Migration `20200624125010-change-floor-column`

This migration has been generated by Ricardo Mello at 6/24/2020, 12:50:10 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
DROP INDEX "public"."Place.code"

ALTER TABLE "public"."Place" DROP COLUMN "code",
ADD COLUMN "floor" text  NOT NULL ;

ALTER TABLE "public"."Session" DROP COLUMN "floor";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200624123844-init..20200624125010-change-floor-column
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model User {
   id       String    @id @default(uuid())
@@ -17,9 +17,9 @@
 model Place {
   id       String    @id @default(uuid())
   name     String
-  code     String    @unique
+  floor    String
   sessions Session[]
 }
 model Session {
@@ -27,8 +27,7 @@
   user         User      @relation(fields: [userId], references: [id])
   userId       String // relation scalar field (used in the `@relation` attribute above)
   place        Place     @relation(fields: [placeId], references: [id])
   placeId      String // relation scalar field (used in the `@relation` attribute above)
-  floor        String
   checkinDate  DateTime? @default(now())
   checkoutDate DateTime?
 }
```


